<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="https://unpkg.com/vuex"></script>
    <title>Document</title>
</head>
<body>
    <div id="app">
        <inputcomp></inputcomp>
        <btn name-btn="addNewTodo" v-on:do-task="addNewTodo"></btn>
        <btn name-btn="MarkTodo"></btn>
        <btn name-btn="removeTodo"></btn>
        <btn name-btn="UP"></btn>
        <btn name-btn="Down"></btn>
        <list></list>
       
    </div>
</body>
<script>
// btn component 
Vue.component("btn",{
        template:`<button v-on:click="$emit('do-task')" >{{nameBtn}}</button>`,
        props:["nameBtn"],
        methods:{
          //btnFunc
        }

    })
//  inputcomponent 
Vue.component("inputcomp",{
  template:`<input v-model ="todoTask">`,
  computed: {
    todoTask: {
    get () {
      return this.$store.state.todoTask
    },
    set (value) {
      this.$store.commit('updateMessage', value)
    }
  }

  }

})
//list component li ol
Vue.component("list",{
    template : `
    <ol>
        <li v-for="(todo, index,) in listloop">
            <p>{{todo.taskTodo}}</p>
        </li>
    </ol>`,
    computed:{
        listloop: function(){
          return store.state.todoList;
          console.log( store.state.todoList)
        }
    }

})
//Vuex store
const store = new Vuex.Store({
  state: {
     todoTask :"",
     todoList : []
  },
  mutations: {
      updateMessage (state,value){
         state.todoTask = value,
         console.log(state.todoTask)
      },
      addNewTodo(state){
          state.todoList.push({
              taskTodo: state.todoTask,
              status : false
          })
      }
    
  }
})
//Vue instance
const app = new Vue({
el: "#app",
store,

})
</script>
</html>